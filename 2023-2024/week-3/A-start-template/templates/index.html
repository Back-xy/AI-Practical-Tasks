<!DOCTYPE html>
<html>

<head>
    <title>A-star</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leader-line/1.0.3/leader-line.min.js"
        integrity="sha512-aFBNsI3+D6ObLLtyKwdZPZzDbcCC6+Bh+2UNV8HC0R95BpcBT+dmmZ5NMpJi/Ic8uO0W7FGcg33IfuHg+7Ryew=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<style>
    .ball {
        width: 100px;
        height: 100px;
        display: flex;
        flex-shrink: 0;
        color: white;
        font-size: large;
        font-weight: bold;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        background-color: rgb(49, 145, 231);
        box-shadow: inset -25px -15px 40px rgba(0, 0, 0, .3);
        background-image: linear-gradient(-45deg, rgba(255, 255, 220, .3) 0%, transparent 100%);
    }

    .cell {
        width: 120px;
        height: 120px;
    }

    text {
        font-size: 23px;
        font-weight: bold;
        fill: red !important;
    }
</style>

<body class="bg-[#eee] p-5 m-0">
    <script>
        const nodes = {{ nodes| tojson | safe }}
        const edges = {{ edges| tojson | safe }}
    </script>
    <h1 class="text-center text-3xl font-bold mb-4">A* Map</h1>
    <div class="bg-white grid grid-cols-4 grid-rows-7 gap-4 gap-x-[67px] w-fit mx-auto rounded shadow p-4">
        <div id="cell-0-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-0-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-0-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-0-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-1-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-1-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-1-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-1-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-2-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-2-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-2-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-2-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-3-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-3-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-3-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-3-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-4-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-4-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-4-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-4-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-5-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-5-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-5-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-5-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-6-0" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-6-1" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-6-2" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
        <div id="cell-6-3" class="cell border rounded rounded-lg p-3 flex justify-center items-center"></div>
    </div>
    <script>
        Object.entries(nodes).forEach(([node, { col, row, cost }]) => {
            try {
                const id = `cell-${row}-${col}`
                const content = `<div id="cell-${node}" class="ball">${node.toUpperCase()} - [${cost}]</div>`
                document.getElementById(id).innerHTML = content
            } catch (error) {
                console.error(error);
            }
        })
        const edgeStyles = {
            gradient: true,
            dropShadow: true,
            endPlug: 'behind',
            endPlugColor: 'red',
            startPlugColor: 'orange',
            dash: { animation: true },
        }
        Object.entries(edges).forEach(([edges, cost]) => {
            try {
                const [from, to] = edges.split("-")
                const line = new LeaderLine(
                    document.getElementById(`cell-${from}`),
                    document.getElementById(`cell-${to}`),
                    { ...edgeStyles, middleLabel: cost.toString() }
                )
            } catch (error) {
                console.error(error);
            }
        })


    </script>
</body>

</html>